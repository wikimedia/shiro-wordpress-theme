!function(){var e,t={5294:function(e,t,r){"use strict";var n=r(6942),o=r.n(n),i=window.wp.blocks,s=window.wp.blockEditor,a=window.wp.components,c=window.wp.data,l=window.wp.i18n,d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"title":"Post Heading controls","name":"shiro/blog-post-heading","textdomain":"shiro-admin","category":"wikimedia","icon":"cover-image","description":"Editor controls for selecting featured image and post intro.","supports":{"inserter":false,"multiple":false,"reusable":false},"attributes":{"postIntro":{"type":"string","multiline":"p","source":"meta","meta":"page_intro"}},"editorScript":"file:./index.js","editorStyle":"file:./style-index.css"}'),u=window.ReactJSXRuntime;const p=()=>{const{openGeneralSidebar:e,toggleEditorPanelOpened:t}=(0,c.dispatch)("core/edit-post"),{isEditorPanelOpened:r}=(0,c.select)("core/edit-post");e("edit-post/document"),r("featured-image")||t("featured-image"),setTimeout((()=>{const e=document.querySelector(".editor-post-featured-image__container .components-button");e&&(e.scrollIntoViewIfNeeded(),e.focus(),e.click())}))};(0,i.registerBlockType)(d.name,{...d,edit:function({attributes:e,setAttributes:t}){const r=(0,c.useSelect)((e=>{const t=e("core/editor").getEditedPostAttribute("featured_media");if(!t)return!1;const r=e("core").getMedia(t);return r?.media_details.sizes.image_16x9_large?.source_url||r?.source_url||!1}));return(0,u.jsxs)("div",{className:"post-heading",children:[(0,u.jsxs)("div",{className:o()("post-heading__image-wrapper",{"post-heading__image-wrapper--empty":!r}),children:[r?(0,u.jsx)("img",{alt:"",className:"post-heading__image",src:r}):(0,u.jsx)("div",{className:"post-heading__image--empty",children:(0,l.__)("No featured image selected","shiro-admin")}),(0,u.jsx)("button",{className:"post-heading__click-overlay",onClick:p,children:(0,u.jsx)("span",{className:"dashicon-wrapper",children:(0,u.jsx)(a.Icon,{icon:"edit-large"})})})]}),(0,u.jsx)("div",{className:"article-title",children:(0,u.jsx)(s.RichText,{className:"post-heading__intro",multiline:"p",placeholder:(0,l.__)("Add a post intro","shiro-admin"),tagName:"div",value:e.postIntro,onChange:e=>t({postIntro:e})})})]})}}),(0,c.subscribe)((()=>{const{replaceBlocks:e,removeBlock:t,selectBlock:r}=(0,c.dispatch)("core/block-editor"),{getBlocks:n}=(0,c.select)("core/block-editor"),{getCurrentPostType:o}=(0,c.select)("core/editor");if("post"!==o())return;const[s,...a]=n();if(s){if(s.name!==d.name){const t=(0,i.createBlock)(d.name);e(s.clientId,[t,s]),r(t.clientId)}a.filter((e=>e.name===d.name)).forEach((e=>t(e.clientId)))}}))},6942:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,i(r)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=function(t,r,o,i){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],i=e[d][2];for(var a=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={111:0,159:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,s=r[0],a=r[1],c=r[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var d=c(n)}for(t&&t(r);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self.webpackChunkshiro_wordpress_theme=self.webpackChunkshiro_wordpress_theme||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var o=n.O(void 0,[159],(function(){return n(5294)}));o=n.O(o)}();