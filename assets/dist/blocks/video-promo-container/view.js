document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-shiro-video-promo-container").forEach(e=>{const t=e.querySelector("video");if(!t)return;const n=()=>{const e=document.querySelector(".global-header")||document.querySelector("header");if(e){const n=e.getBoundingClientRect().height,o=document.getElementById("wpadminbar"),r=o?o.getBoundingClientRect().height:0;t.style.height=`calc(100vh - ${n+r}px)`,t.style.objectFit="cover"}};n(),window.addEventListener("resize",n),t.addEventListener("play",function(){t.autoplay||setTimeout(()=>{const t=document.querySelector(".global-header")||document.querySelector("header"),n=t?t.getBoundingClientRect().height:0;window.scrollTo({top:e.offsetTop-n,behavior:"smooth"})},100)}),t.addEventListener("ended",function(){t.src="",t.src=t.currentSrc});const o=(()=>{if("true"!==e.dataset.enableProgressBar)return null;const n=document.createElement("div");n.className="progress-bar-container";const o=document.createElement("div");return o.className="progress-bar",n.appendChild(o),t.after(n),o})();if(o){const e=()=>{const e=t.currentTime/t.duration*100;o.style.width=e+"%"};t.addEventListener("timeupdate",e);const n=()=>{o.style.width="0%"};t.addEventListener("ended",n);const r=()=>{o.style.transition="width 0.5s linear"};t.addEventListener("play",r);const d=()=>{o.style.transition="none"};t.addEventListener("pause",d)}})});