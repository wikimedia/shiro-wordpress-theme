.primary-nav {
	@include media("<mobile") {
		order: -1;
	}

	@include media(">=mobile") {
		flex-grow: 1;
	}

	// Set these to static so the megamenus can be relative to the inner site header.
	&.wp-block-navigation,
	.wp-block-navigation__responsive-container:not(.hidden-by-default):not(.is-menu-open),
	.wp-block-navigation__responsive-dialog {
		position: static;
	}

	li {
		align-self: stretch;
		font-weight: var(--wp--custom--font-weight--bold);
		margin: 0;

		@include media("<mobile") {
			font-size: rem(20);
		}

		@include media(">=mobile") {
			@include has-font-size( "medium" );
			font-weight: var(--wp--custom--font-weight--semi-bold);
		}
	}
	
	// Mega menu toggle buttons are used as top level nav items.
	.wp-block-hm-mega-menu__toggle {
		transition: all 300ms ease;

		&:hover {
			text-decoration: underline currentColor 2px;
			text-underline-offset: fluid( 4, 8 );
		}

		&:focus-visible {
			@include focus-ring;
		}

		@include media("<mobile") {
			padding: rem(20) rem(16);
			width: 100%;

			&:not(li:first-child > button) {
				border-top: 1px solid var(--wp--preset--color--border-light);
			}
		}

		@include media(">=mobile") {
			border-left: 1px solid transparent;
			border-right: 1px solid transparent;
			height: calc( 100% + 1px );
			margin-bottom: -1px;
			padding: var(--wp--preset--spacing--24) var(--wp--preset--spacing--16);

			&[aria-expanded=true] {
				background-color: var(--wp--preset--color--black-05);
				border-color: var(--wp--preset--color--border-light);
			}
		}
	}

	// Mega menu content container.
	.wp-block-hm-mega-menu__menu-container {
		> .wp-block-group {
			@include media("<mobile") {
				background-color: rgba(#fff, 0.5) !important;
				border-top: 1px solid var(--wp--preset--color--border-light);
			}
		}

		.menu-container__close-button {
			&:focus-visible {
				@include focus-ring;
			}

			@include media("<mobile") {
				display: none;
			}

			svg {
				height: rem(24);
				stroke: currentColor;
				stroke-width: 0.5px;
				width: rem(24);
			}
		}
		
		.alignwide &.menu-width-wide {
			max-width: none !important;
			width: 100% !important;

			@include media(">=mobile") {
				@include global-negative-margin;
				top: calc( 100% + 1px );
				width: calc( 100% + $global-padding-added ) !important;
			}
		}
	}

	// Mega menu content container for an active menu item.
	.wp-block-hm-mega-menu__toggle[aria-expanded=true] ~ .wp-block-hm-mega-menu__menu-container {
		@include media("<mobile") {
			box-shadow: none;
			position: static;
		}

		@include media(">=mobile") {
			box-shadow: var(--wp--preset--shadow--shadow-16-blur);
			clip-path: inset(
				0
				calc( var(--wp--preset--spacing--16) * -1 )
				calc( var(--wp--preset--spacing--16) * -1 )
			);
		}
	}
}
